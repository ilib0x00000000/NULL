#include <stdio.h>

/**
 _   _          _   _         _______ _       _ _______  _______  _______  _______  _______  _______  _______  _______ 
(_) | |        (_) | |       / _____ \\\     /// _____ \/ _____ \/ _____ \/ _____ \/ _____ \/ _____ \/ _____ \/ _____ \
| | | |        | | | |       |/     \| \\   // |/     \||/     \||/     \||/     \||/     \||/     \||/     \||/     \|
| | | |        | | | |______ ||     ||  \\ //  ||     ||||     ||||     ||||     ||||     ||||     ||||     ||||     ||
| | | |        | | | |_____ \||     ||   ||    ||     ||||     ||||     ||||     ||||     ||||     ||||     ||||     ||
| | | |        | | | |     \|||     ||  //\\   ||     ||||     ||||     ||||     ||||     ||||     ||||     ||||     ||
| | | |_______ | | | |____ /||\_____/| //  \\  |\_____/||\_____/||\_____/||\_____/||\_____/||\_____/||\_____/||\_____/|
|_| |_________||_| |_|______/\_______///    \\ \_______/\_______/\_______/\_______/\_______/\_______/\_______/\_______/
 *
 *
 * @author  ilib0x00000000
 * @email   yinghaozhg@qq.com
 * @version 0.1
 *
 * 求一个数组的子数组的和值最大值
 */

int max_subarr(int *arr, int length)
{
	/**
	 * 解题思路：
	 * 从数组的第一个元素开始相加，前面的累加值如果大于等于0，则继续相加，否则，丢弃前面的累加值，从下一个元素继续累加
	 */
	int i;
	int max = 0;
	int sum = 0;

	for(i = 0; i < length; i++)
	{
		sum += arr[i];
		if(sum > max)
			max = sum;
		if(sum < 0)
			sum = 0;
	}

	return max;
}


int main(int argc, char const *argv[])
{
	int arr[] = {2,4,-7,5,2,-1,2,-4,3};

	printf("%d\n", max_subarr(arr, 9));
	
	return 0;
}